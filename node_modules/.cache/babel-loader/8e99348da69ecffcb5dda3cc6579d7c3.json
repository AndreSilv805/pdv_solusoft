{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\pedidos\\PedidosLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\pedidos\\PedidosLista.vue","mtime":1603144535375},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603220106800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":1603220101061},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603220106800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":1603220194800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3Bkdl91bml2ZXJzby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQZWRpZG9zTGlzdGFJdGVtIGZyb20gJ0AvY29tcG9uZW50cy9wZWRpZG9zL1BlZGlkb3NMaXN0YUl0ZW0udnVlJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vLi4vLi4vZXZlbnQtYnVzJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBlZGlkb3NMaXN0YUl0ZW06IFBlZGlkb3NMaXN0YUl0ZW0KICB9LAogIHByb3BzOiBbJ2J1c2NhJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRhdG9zOiBbXSwKICAgICAgcGVkaWRvczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcGVkaWRvc0ZpbHRyYWRvczogZnVuY3Rpb24gcGVkaWRvc0ZpbHRyYWRvcygpIHsKICAgICAgdmFyIGJ1c2NhID0gdGhpcy5idXNjYTsKICAgICAgcmV0dXJuICFidXNjYSA/IHRoaXMucGVkaWRvcyA6IHRoaXMucGVkaWRvcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5vYnNlcnZhY2FvLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoYnVzY2EudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UGVkaWRvcygpOwogICAgdGhpcy5wZWRpZG9zID0gRXZlbnRCdXMucGVkaWRvczsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFBlZGlkb3M6IGZ1bmN0aW9uIGdldFBlZGlkb3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3BlZGlkb3MiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dFVCAvcHJvZHV0b3MnLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgICBfdGhpcy5wZWRpZG9zID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0YXJQZWRpZG86IGZ1bmN0aW9uIGRlbGV0YXJQZWRpZG8ocGVkaWRvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbmZpcm1hciwgaW5kaWNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25maXJtYXIgPSB3aW5kb3cuY29uZmlybSgiRGVzZWphIGRlbGV0YXIgYSB0YXJlZmEgXCIiLmNvbmNhdChwZWRpZG8uaWQsICJcIj8iKSk7CgogICAgICAgICAgICAgICAgaWYgKCFjb25maXJtYXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmRlbGV0ZSgiaHR0cDovLzEyNy4wLjAuMS9wZHZzb2x1c29mdC9ibG9nL3B1YmxpYy9hcGkvcGVkaWRvcy8iLmNvbmNhdChwZWRpZG8uaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaW5kaWNlID0gX3RoaXMyLnBlZGlkb3MuZmluZEluZGV4KGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwLmlkID09PSBwZWRpZG8uaWQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIucGVkaWRvcy5zcGxpY2UoaW5kaWNlLCAxKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvIGFvIGRlbGV0YXIgVGFyZWZhOiAnLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW1wcmUgZXhlY3V0YWRvIScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDksIDEyLCAxNV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYnVzY2FyOiBmdW5jdGlvbiBidXNjYXIoZXZlbnQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcGVkaWRvcycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGJ1c2NhOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHZvbHRhcjogZnVuY3Rpb24gdm9sdGFyKCkgewogICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["PedidosLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,gBAAA,MAAA,2CAAA;AAEA,OAAA,QAAA,MAAA,mBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAIA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,gBAAA,EAAA;AADA,GADA;AAKA,EAAA,KAAA,EAAA,CAAA,OAAA,CALA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAKA,GAbA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,gBADA,8BACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,aAAA,CAAA,KAAA,GACA,KAAA,OADA,GAEA,KAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,UAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AAAA,OAAA,CAFA;AAGA;AANA,GAfA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,UAAA;AACA,SAAA,OAAA,GAAA,QAAA,CAAA,OAAA;AAEA,GA5BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,wDAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,aARA,yBAQA,MARA,EAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,SADA,GACA,MAAA,CAAA,OAAA,qCAAA,MAAA,CAAA,EAAA,SADA;;AAAA,qBAEA,SAFA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAKA,KAAA,CAAA,MAAA,gEAAA,MAAA,CAAA,EAAA,EALA;;AAAA;AAMA,gBAAA,MANA,GAMA,MAAA,CAAA,OAAA,CAAA,SAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,EAAA;AAAA,iBAAA,CANA;;AAOA,gBAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA;;AAPA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;;AATA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AAXA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAvBA;AAwBA,IAAA,MAxBA,kBAwBA,KAxBA,EAwBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,UADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,KAAA,EAAA,KAAA,CAAA,MAAA,CAAA;AAAA;AAFA,OAAA;AAIA,KA7BA;AA8BA,IAAA,MA9BA,oBA8BA;AACA,WAAA,OAAA,CAAA,IAAA;AACA;AAhCA;AA9BA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n       \r\n        <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n                <h3 class=\"font-weight-light\">Lista de Pedidos</h3>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n                <router-link \r\n                    :to=\"`/produtos/criar`\"\r\n                    class=\"btn btn-info btn-sm float-right\">\r\n                    <span>Criar Pedido</span>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-2\">\r\n            <input \r\n                type=\"search\"\r\n                class=\"form-control\"\r\n                placeholder=\"Buscar contatos\"\r\n                @keyup.enter=\"buscar\"\r\n                :value = \"busca\">\r\n        </div>\r\n\r\n        <hr>\r\n\r\n       \r\n\r\n        <table class=\"table\">\r\n\r\n                <thead class=\"table table-striped table-sm table-bordered table-dark\">\r\n                    <tr>\r\n                    <th style=\"width:15%\" scoped=\"col-2\" >Código</th>\r\n                    <th style=\"width:45%\" scoped=\"col-6\">Data Pedido</th>\r\n                    <th style=\"width:20%\" scoped=\"col-2\">Observação</th>\r\n                    <th style=\"width:20%\" scoped=\"col-2\" class=\"text-align-center\">açoes</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-bordered\">\r\n                   \r\n                    <PedidosListaItem\r\n                                v-for=\"ped in pedidosFiltrados\"\r\n                                @delete=\"deletarPedido\"\r\n                                :key=\"ped.id\"\r\n                                :pedido=\"ped\"/>\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n     \r\n\r\n\r\n\r\n\r\n        <button class=\"btn btn-secondary mt-4 mb-4\" @click=\"voltar\">Voltar</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport PedidosListaItem from '@/components/pedidos/PedidosListaItem.vue'\r\n\r\nimport EventBus from './../../event-bus'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nexport default {\r\n    components: {\r\n        PedidosListaItem,\r\n    },\r\n\r\n    props: ['busca'],\r\n\r\n    data() {\r\n        return {\r\n            contatos: [],\r\n            pedidos: [],\r\n            \r\n        }\r\n    },\r\n\r\n    computed: {\r\n        pedidosFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.pedidos\r\n                : this.pedidos.filter(p => p.observacao.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getPedidos();\r\n     this.pedidos = EventBus.pedidos\r\n  \r\n    },\r\n\r\n    methods: {\r\n        async getPedidos() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/pedidos`);\r\n                console.log('GET /produtos', response)\r\n                this.pedidos = response.data;\r\n\r\n        },\r\n        async deletarPedido(pedido) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${pedido.id}\"?`)\r\n            if (confirmar) {\r\n\r\n                try {\r\n                    await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/pedidos/${pedido.id}`)\r\n                    const indice = this.pedidos.findIndex(p => p.id === pedido.id)\r\n                    this.pedidos.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/pedidos',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        },\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/pedidos"}]}