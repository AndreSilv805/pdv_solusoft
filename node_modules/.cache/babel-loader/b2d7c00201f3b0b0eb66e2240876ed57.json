{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\pedidos\\PedidosVenda.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\pedidos\\PedidosVenda.vue","mtime":1603114018495},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3Bkdl91bml2ZXJzby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBFdmVudEJ1cyBmcm9tICcuLy4uLy4uL2V2ZW50LWJ1cyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBQZWRpZG9zVmVuZGFJdGVtIGZyb20gJ0AvY29tcG9uZW50cy9wZWRpZG9zL1BlZGlkb3NWZW5kYUl0ZW0udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFBlZGlkb3NWZW5kYUl0ZW06IFBlZGlkb3NWZW5kYUl0ZW0KICB9LAogIHByb3BzOiBbJ3BlZGlkbyddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwZWRpZG9zOiBbXQogICAgfTsKICB9LAogIGZpbHRlcnM6IHsKICAgIG1vZWRhUmVhbDogZnVuY3Rpb24gbW9lZGFSZWFsKHZhbHVlKSB7CiAgICAgIHJldHVybiB2YWx1ZS50b0xvY2FsZVN0cmluZygncHQtYnInLCB7CiAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsCiAgICAgICAgY3VycmVuY3k6ICdCUkwnCiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsUGVkaWRvOiBmdW5jdGlvbiB0b3RhbFBlZGlkbygpIHsKICAgICAgcmV0dXJuIHRoaXMucGVkaWRvLml0ZW1zLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIGl0ZW0pIHsKICAgICAgICByZXR1cm4gdG90YWwgKyBpdGVtLnF1YW50aWRhZGUgKiBpdGVtLnZhbG9yX3ZlbmRpZG87CiAgICAgIH0sIDApOwogICAgfSwKICAgIHBlZGlkb3NGaWx0cmFkb3M6IGZ1bmN0aW9uIHBlZGlkb3NGaWx0cmFkb3MoKSB7CiAgICAgIHZhciBidXNjYSA9IHRoaXMuYnVzY2E7CiAgICAgIHJldHVybiAhYnVzY2EgPyB0aGlzLnBlZGlkb3MgOiB0aGlzLnBlZGlkb3MuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAub2JzZXJ2YWNhby50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGJ1c2NhLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFBlZGlkb3MoKTsKICAgIHRoaXMucGVkaWRvcyA9IEV2ZW50QnVzLnBlZGlkb3M7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQZWRpZG9zOiBmdW5jdGlvbiBnZXRQZWRpZG9zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJodHRwOi8vMTI3LjAuMC4xL3BkdnNvbHVzb2Z0L2Jsb2cvcHVibGljL2FwaS9wZWRpZG9zIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHRVQgL3Byb2R1dG9zJywgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgX3RoaXMucGVkaWRvcyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGFySXRlbTogZnVuY3Rpb24gZGVsZXRhckl0ZW0oaXRlbTIpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29uZmlybWFyLCBpbmRpY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbmZpcm1hciA9IHdpbmRvdy5jb25maXJtKCJEZXNlamEgZGVsZXRhciBhIHRhcmVmYSBcIiIuY29uY2F0KGl0ZW0yLmlkLCAiXCI/IikpOwoKICAgICAgICAgICAgICAgIGlmICghY29uZmlybWFyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoImh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3BlZGlkb3MvcmVtb3Zlci8iLmNvbmNhdChpdGVtMi5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpbmRpY2UgPSBfdGhpczIucGVkaWRvLml0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoaSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gaXRlbTIuaWQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIucGVkaWRvLml0ZW1zLnNwbGljZShpbmRpY2UsIDEpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm8gYW8gZGVsZXRhciBUYXJlZmE6ICcsIF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlbXByZSBleGVjdXRhZG8hJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgxMik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgOSwgMTIsIDE1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBidXNjYXI6IGZ1bmN0aW9uIGJ1c2NhcihldmVudCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9wZWRpZG9zJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgYnVzY2E6IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdm9sdGFyOiBmdW5jdGlvbiB2b2x0YXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PedidosVenda.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"height:600px\" class=\" col-sm-12 col-lg-8 float-left\">\r\n          \r\n          \r\n          <div id=\"listgroup-ex\" style=\"position:relative;  overflow-y:auto; height:600px\">\r\n            \r\n\r\n                <table class=\"table\">\r\n                \r\n                <thead class=\"table table-striped table-bordered table-dark\">\r\n                    <tr >\r\n                    <th style=\"width:5%\" scoped=\"col\" >item</th>\r\n                    <th style=\"width:5%\" scoped=\"col\">código</th>\r\n                    <th style=\"width:45%\" scoped=\"col\">produto</th>\r\n                    <th style=\"width:5%\" scoped=\"col\">quant.</th>\r\n                    <th style=\"width:15%\" scoped=\"col\">valor</th>\r\n                    <th style=\"width:15%\" scoped=\"col\">total</th>\r\n                    <th style=\"width:10%\" scoped=\"col\">ações</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-sm table-bordered\">\r\n                   \r\n                   <PedidosVendaItem\r\n                                v-for=\"ped in pedido.items\"\r\n                                @delete=\"deletarItem\"\r\n                                :key=\"ped.id\"\r\n                                :item=\"ped\"/>\r\n                                \r\n                   <!--<tr v-for=\" item in pedido.items\"\r\n                    :key=\"item.id\">\r\n\r\n                    <td >1</td>\r\n                    <td >{{item.cod_produto}}</td>\r\n                    <td >{{item.nome}}</td>\r\n                    <td >{{item.quantidade}}</td>\r\n                    <td >{{item.valor_vendido | moedaReal}}</td>\r\n                    <td >{{item.quantidade*item.valor_vendido | moedaReal}}</td>\r\n                    <td> <button \r\n                            class=\"btn btn-danger btn-sm mr-2 float-right\" \r\n                            title=\"Deletar\">\r\n                                Excluir\r\n                        </button>\r\n                    </td>\r\n                    </tr>-->\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n              \r\n\r\n\r\n\r\n\r\n          </div>\r\n          <div class=\"col-12\"> <h4 class=\"float-right pr-5\">Total:  {{totalPedido | moedaReal}}</h4></div>\r\n          \r\n\r\n          <div style=\"clear:both\"></div>            \r\n          \r\n           <b-button class=\"mt-lg-2 ml-5 col-lg-4\" variant=\"danger\" @click=\"$router.back()\">Aguradar</b-button> \r\n           <!--<b-button class=\"mt-lg-2 col-lg-6\" variant=\"success\" @click=\"adicionar\">Finalizar</b-button>-->\r\n           <router-link :to=\"`/pedidorota/1/fechar`\" @click=\"adicionar\" class=\"mt-lg-2 mr-5 col-lg-4 btn btn-success float-right\">Finalizar</router-link>\r\n            \r\n       \r\n               \r\n        </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n\r\n\r\nimport EventBus from './../../event-bus'\r\nimport axios from 'axios'\r\n\r\nimport PedidosVendaItem from '@/components/pedidos/PedidosVendaItem.vue'\r\n\r\n\r\n\r\nexport default {\r\n\r\n    components: {\r\n        PedidosVendaItem,\r\n    },\r\n\r\n    props: ['pedido'],\r\n\r\n    data() {\r\n        return {\r\n            pedidos: [],\r\n            \r\n        }\r\n    },\r\n    \r\n     filters: {\r\n        moedaReal (value) {\r\n        return value.toLocaleString('pt-br',{style:'currency',currency:'BRL'})\r\n        }\r\n     },\r\n\r\n    computed: {\r\n        totalPedido: function () {\r\n            return this.pedido.items.reduce((total , item) => {\r\n            return total + item.quantidade*item.valor_vendido\r\n            },0)\r\n        },\r\n        pedidosFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.pedidos\r\n                : this.pedidos.filter(p => p.observacao.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getPedidos();\r\n     this.pedidos = EventBus.pedidos\r\n  \r\n    },\r\n\r\n    methods: {\r\n        async getPedidos() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/pedidos`);\r\n                console.log('GET /produtos', response)\r\n                this.pedidos = response.data;\r\n\r\n        },\r\n        async deletarItem(item2) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${item2.id}\"?`)\r\n            if (confirmar) {\r\n\r\n                try {\r\n                    await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/pedidos/remover/${item2.id}`)\r\n                    const indice = this.pedido.items.findIndex(i => i.id === item2.id)\r\n                    this.pedido.items.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/pedidos',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        },\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/pedidos"}]}