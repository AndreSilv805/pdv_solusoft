{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\produtos\\ProdutosLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\produtos\\ProdutosLista.vue","mtime":1603162124988},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603220106800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":1603220101061},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603220106800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":1603220194800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3Bkdl91bml2ZXJzby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQcm9kdXRvc0xpc3RhSXRlbSBmcm9tICdAL2NvbXBvbmVudHMvcHJvZHV0b3MvUHJvZHV0b3NMaXN0YUl0ZW0udnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1dG9zTGlzdGFJdGVtOiBQcm9kdXRvc0xpc3RhSXRlbQogIH0sCiAgcHJvcHM6IFsncHJvZHV0b3MnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHV0b3MyOiBbXQogICAgfTsKICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIG5leHQoZnVuY3Rpb24gKHZtKSB7CiAgICAgIHZhciBwcm9kID0gdm0uZ2V0UHJvZHV0b3MoKTsKICAgICAgdm0ucHJvZHV0b3MgPSBwcm9kOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgcHJvZHV0b3NGaWx0cmFkb3M6IGZ1bmN0aW9uIHByb2R1dG9zRmlsdHJhZG9zKCkgewogICAgICB2YXIgYnVzY2EgPSB0aGlzLmJ1c2NhOwogICAgICByZXR1cm4gIWJ1c2NhID8gdGhpcy5wcm9kdXRvcyA6IHRoaXMucHJvZHV0b3MuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAubm9tZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGJ1c2NhLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFByb2R1dG9zKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9kdXRvczogZnVuY3Rpb24gZ2V0UHJvZHV0b3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3Byb2R1dG9zIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHRVQgL3Byb2R1dG9zJywgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgX3RoaXMucHJvZHV0b3MgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRhclRhcmVmYTogZnVuY3Rpb24gZGVsZXRhclRhcmVmYShwcm9kdXRvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbmZpcm1hciwgaW5kaWNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25maXJtYXIgPSB3aW5kb3cuY29uZmlybSgiRGVzZWphIGRlbGV0YXIgYSB0YXJlZmEgXCIiLmNvbmNhdChwcm9kdXRvLm5vbWUsICJcIj8iKSk7CgogICAgICAgICAgICAgICAgaWYgKCFjb25maXJtYXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmRlbGV0ZSgiaHR0cDovLzEyNy4wLjAuMS9wZHZzb2x1c29mdC9ibG9nL3B1YmxpYy9hcGkvcHJvZHV0b3MvIi5jb25jYXQocHJvZHV0by5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpbmRpY2UgPSBfdGhpczIucHJvZHV0b3MuZmluZEluZGV4KGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0LmlkID09PSBwcm9kdXRvLmlkOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLnByb2R1dG9zLnNwbGljZShpbmRpY2UsIDEpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm8gYW8gZGVsZXRhciBUYXJlZmE6ICcsIF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEyOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlbXByZSBleGVjdXRhZG8hJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmZpbmlzaCgxMik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgOSwgMTIsIDE1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBidXNjYXI6IGZ1bmN0aW9uIGJ1c2NhcihldmVudCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9wcm9kdXRvcycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGJ1c2NhOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHZvbHRhcjogZnVuY3Rpb24gdm9sdGFyKCkgewogICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ProdutosLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,iBAAA,MAAA,6CAAA;AAGA,OAAA,KAAA,MAAA,OAAA;AAIA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GADA;AAKA,EAAA,KAAA,EAAA,CAAA,UAAA,CALA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAKA,GAbA;AAcA,EAAA,gBAdA,4BAcA,EAdA,EAcA,IAdA,EAcA,IAdA,EAcA;AACA,IAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,UAAA,IAAA,GAAA,EAAA,CAAA,WAAA,EAAA;AACA,MAAA,EAAA,CAAA,QAAA,GAAA,IAAA;AACA,KAHA,CAAA;AAIA,GAnBA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,aAAA,CAAA,KAAA,GACA,KAAA,QADA,GAEA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AAAA,OAAA,CAFA;AAGA;AANA,GApBA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,SAAA,WAAA;AAGA,GAjCA;AAmCA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,yDAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,aARA,yBAQA,OARA,EAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,SADA,GACA,MAAA,CAAA,OAAA,qCAAA,OAAA,CAAA,IAAA,SADA;;AAAA,qBAEA,SAFA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAKA,KAAA,CAAA,MAAA,iEAAA,OAAA,CAAA,EAAA,EALA;;AAAA;AAMA,gBAAA,MANA,GAMA,MAAA,CAAA,QAAA,CAAA,SAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,EAAA,KAAA,OAAA,CAAA,EAAA;AAAA,iBAAA,CANA;;AAOA,gBAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA;;AAPA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;;AATA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AAXA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAvBA;AAwBA,IAAA,MAxBA,kBAwBA,KAxBA,EAwBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,KAAA,EAAA,KAAA,CAAA,MAAA,CAAA;AAAA;AAFA,OAAA;AAIA,KA7BA;AA8BA,IAAA,MA9BA,oBA8BA;AACA,WAAA,OAAA,CAAA,IAAA;AACA;AAhCA;AAnCA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n       \r\n        <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n                <h3 class=\"font-weight-light\">Lista de Produtos</h3>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n                <router-link \r\n                    :to=\"`/produtos/criar`\"\r\n                    class=\"btn btn-info btn-sm float-right\">\r\n                    <span>Criar Produto</span>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-2\">\r\n            <input \r\n                type=\"search\"\r\n                class=\"form-control\"\r\n                placeholder=\"Buscar contatos\"\r\n                @keyup.enter=\"buscar\"\r\n                :value = \"busca\">\r\n        </div>\r\n\r\n        <hr>\r\n\r\n       \r\n\r\n        <table class=\"table\">\r\n\r\n                <thead class=\"table table-striped table-sm table-bordered table-dark\">\r\n                    <tr>\r\n                    <th style=\"width:15%\" scoped=\"col-2\" >Código</th>\r\n                    <th style=\"width:45%\" scoped=\"col-6\">Produto</th>\r\n                    <th style=\"width:20%\" scoped=\"col-2\">valor</th>\r\n                    <th style=\"width:20%\" scoped=\"col-2\" class=\"text-align-center\">açoes</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-bordered\">\r\n                   \r\n                    <ProdutosListaItem\r\n                                v-for=\"prod in produtosFiltrados\"\r\n                                @delete=\"deletarTarefa\"\r\n                                :key=\"prod.id\"\r\n                                :produto=\"prod\"/>\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n     \r\n\r\n\r\n\r\n\r\n        <button class=\"btn btn-secondary mt-4 mb-4\" @click=\"voltar\">Voltar</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport ProdutosListaItem from '@/components/produtos/ProdutosListaItem.vue'\r\n\r\n\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nexport default {\r\n    components: {\r\n        ProdutosListaItem,\r\n    },\r\n\r\n    props: ['produtos'],\r\n\r\n    data() {\r\n        return {\r\n           \r\n            produtos2: [],\r\n            \r\n        }\r\n    },\r\n    beforeRouteEnter(to, from, next) {\r\n        next(vm => {\r\n            const prod = vm.getProdutos();\r\n            vm.produtos = prod;\r\n        })\r\n    },\r\n    computed: {\r\n        produtosFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.produtos\r\n                : this.produtos.filter(p => p.nome.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getProdutos();\r\n     \r\n  \r\n    },\r\n\r\n    methods: {\r\n        async getProdutos() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/produtos`);\r\n                console.log('GET /produtos', response)\r\n                this.produtos = response.data;\r\n\r\n        },\r\n        async deletarTarefa(produto) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${produto.nome}\"?`)\r\n            if (confirmar) {\r\n\r\n                try {\r\n                    await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/produtos/${produto.id}`)\r\n                    const indice = this.produtos.findIndex(t => t.id === produto.id)\r\n                    this.produtos.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/produtos',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        },\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/produtos"}]}