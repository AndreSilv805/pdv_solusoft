{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\produtos\\ProdutosLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\produtos\\ProdutosLista.vue","mtime":1600129206800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3Bkdl91bml2ZXJzby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBQcm9kdXRvc0dldCBmcm9tICdAL2NvbXBvbmVudHMvcHJvZHV0b3MvUHJvZHV0b3NHZXQudnVlJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vLi4vLi4vZXZlbnQtYnVzJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1dG9zR2V0OiBQcm9kdXRvc0dldAogIH0sCiAgcHJvcHM6IFsnYnVzY2EnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGF0b3M6IFtdLAogICAgICBwcm9kdXRvczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcHJvZHV0b3NGaWx0cmFkb3M6IGZ1bmN0aW9uIHByb2R1dG9zRmlsdHJhZG9zKCkgewogICAgICB2YXIgYnVzY2EgPSB0aGlzLmJ1c2NhOwogICAgICByZXR1cm4gIWJ1c2NhID8gdGhpcy5wcm9kdXRvcyA6IHRoaXMucHJvZHV0b3MuZmlsdGVyKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHAubm9tZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGJ1c2NhLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFByb2R1dG9zKCk7CiAgICB0aGlzLmNvbnRhdG9zID0gRXZlbnRCdXMuY29udGF0b3M7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRQcm9kdXRvczogZnVuY3Rpb24gZ2V0UHJvZHV0b3MoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3Byb2R1dG9zIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHRVQgL3Byb2R1dG9zJywgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgX3RoaXMucHJvZHV0b3MgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRhclRhcmVmYTogZnVuY3Rpb24gZGVsZXRhclRhcmVmYShwcm9kdXRvKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbmZpcm1hciwgcmVzcG9uc2UsIGluZGljZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uZmlybWFyID0gd2luZG93LmNvbmZpcm0oIkRlc2VqYSBkZWxldGFyIGEgdGFyZWZhIFwiIi5jb25jYXQocHJvZHV0by5ub21lLCAiXCI/IikpOwoKICAgICAgICAgICAgICAgIGlmICghY29uZmlybWFyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5kZWxldGUoImh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3Byb2R1dG9zLyIuY29uY2F0KHByb2R1dG8uaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGluZGljZSA9IF90aGlzMi5wcm9kdXRvcy5maW5kSW5kZXgoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuaWQgPT09IHByb2R1dG8uaWQ7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpczIucHJvZHV0b3Muc3BsaWNlKGluZGljZSwgMSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvIGFvIGRlbGV0YXIgVGFyZWZhOiAnLCBfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW1wcmUgZXhlY3V0YWRvIScpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5maW5pc2goMTMpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDEwLCAxMywgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGJ1c2NhcjogZnVuY3Rpb24gYnVzY2FyKGV2ZW50KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL3Byb2R1dG9zJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgYnVzY2E6IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdm9sdGFyOiBmdW5jdGlvbiB2b2x0YXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ProdutosLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,WAAA,MAAA,uCAAA;AAEA,OAAA,QAAA,MAAA,mBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAIA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GADA;AAKA,EAAA,KAAA,EAAA,CAAA,OAAA,CALA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAKA,GAbA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,aAAA,CAAA,KAAA,GACA,KAAA,QADA,GAEA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AAAA,OAAA,CAFA;AAGA;AANA,GAfA;AAwBA,EAAA,OAxBA,qBAwBA;AACA,SAAA,WAAA;AACA,SAAA,QAAA,GAAA,QAAA,CAAA,QAAA;AAEA,GA5BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,yDAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,aARA,yBAQA,OARA,EAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,SADA,GACA,MAAA,CAAA,OAAA,qCAAA,OAAA,CAAA,IAAA,SADA;;AAAA,qBAEA,SAFA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAKA,KAAA,CAAA,MAAA,iEAAA,OAAA,CAAA,EAAA,EALA;;AAAA;AAKA,gBAAA,QALA;AAMA,gBAAA,MANA,GAMA,MAAA,CAAA,QAAA,CAAA,SAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,EAAA,KAAA,OAAA,CAAA,EAAA;AAAA,iBAAA,CANA;;AAOA,gBAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA;;AAPA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;;AATA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AAXA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAvBA;AAwBA,IAAA,MAxBA,kBAwBA,KAxBA,EAwBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,KAAA,EAAA,KAAA,CAAA,MAAA,CAAA;AAAA;AAFA,OAAA;AAIA,KA7BA;AA8BA,IAAA,MA9BA,oBA8BA;AACA,WAAA,OAAA,CAAA,IAAA;AACA;AAhCA;AA9BA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n       \r\n        <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n                <h3 class=\"font-weight-light\">Lista de Produtos</h3>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n                <router-link \r\n                    :to=\"`/produtos/criar`\"\r\n                    class=\"btn btn-info btn-sm float-right\">\r\n                    <span>Criar Produto</span>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-2\">\r\n            <input \r\n                type=\"search\"\r\n                class=\"form-control\"\r\n                placeholder=\"Buscar contatos\"\r\n                @keyup.enter=\"buscar\"\r\n                :value = \"busca\">\r\n        </div>\r\n\r\n        <hr>\r\n\r\n       \r\n\r\n        <table class=\"table\">\r\n\r\n                <thead class=\"table table-striped table-bordered table-dark\">\r\n                    <tr>\r\n                    <th scoped=\"col-2\" >Código</th>\r\n                    <th scoped=\"col-6\">Produto</th>\r\n                    <th scoped=\"col-2\">valor</th>\r\n                    <th scoped=\"col-2\" class=\"text-align-center\">açoes</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-bordered\">\r\n                   \r\n                    <ProdutosGet\r\n                                v-for=\"prod in produtosFiltrados\"\r\n                                @delete=\"deletarTarefa\"\r\n                                :key=\"prod.id\"\r\n                                :produto=\"prod\"/>\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n     \r\n\r\n\r\n\r\n\r\n        <button class=\"btn btn-secondary mt-4 mb-4\" @click=\"voltar\">Voltar</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport ProdutosGet from '@/components/produtos/ProdutosGet.vue'\r\n\r\nimport EventBus from './../../event-bus'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nexport default {\r\n    components: {\r\n        ProdutosGet,\r\n    },\r\n\r\n    props: ['busca'],\r\n\r\n    data() {\r\n        return {\r\n            contatos: [],\r\n            produtos: [],\r\n            \r\n        }\r\n    },\r\n\r\n    computed: {\r\n        produtosFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.produtos\r\n                : this.produtos.filter(p => p.nome.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getProdutos();\r\n     this.contatos = EventBus.contatos\r\n  \r\n    },\r\n\r\n    methods: {\r\n        async getProdutos() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/produtos`);\r\n                console.log('GET /produtos', response)\r\n                this.produtos = response.data;\r\n\r\n        },\r\n        async deletarTarefa(produto) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${produto.nome}\"?`)\r\n            if (confirmar) {\r\n\r\n                try {\r\n                    const response = await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/produtos/${produto.id}`)\r\n                    const indice = this.produtos.findIndex(t => t.id === produto.id)\r\n                    this.produtos.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/produtos',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        },\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/produtos"}]}