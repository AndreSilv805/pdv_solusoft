{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\clientes\\ClientesLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\clientes\\ClientesLista.vue","mtime":1603138644602},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzoveGFtcHAvaHRkb2NzL3Bkdl91bml2ZXJzby9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDbGllbnRlc0xpc3RhSXRlbiBmcm9tICdAL2NvbXBvbmVudHMvY2xpZW50ZXMvQ2xpZW50ZXNMaXN0YUl0ZW4udnVlJzsKaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vLi4vLi4vZXZlbnQtYnVzJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENsaWVudGVzTGlzdGFJdGVuOiBDbGllbnRlc0xpc3RhSXRlbgogIH0sCiAgcHJvcHM6IFsnYnVzY2EnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGF0b3M6IFtdLAogICAgICBjbGllbnRlczogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xpZW50ZXNGaWx0cmFkb3M6IGZ1bmN0aW9uIGNsaWVudGVzRmlsdHJhZG9zKCkgewogICAgICB2YXIgYnVzY2EgPSB0aGlzLmJ1c2NhOwogICAgICByZXR1cm4gIWJ1c2NhID8gdGhpcy5jbGllbnRlcyA6IHRoaXMuY2xpZW50ZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMubm9tZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGJ1c2NhLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENsaWVudGVzKCk7CiAgICB0aGlzLmNvbnRhdG9zID0gRXZlbnRCdXMuY29udGF0b3M7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDbGllbnRlczogZnVuY3Rpb24gZ2V0Q2xpZW50ZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL2NsaWVudGVzIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHRVQgL3Byb2R1dG9zJywgcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgX3RoaXMuY2xpZW50ZXMgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRhckNsaWVudGU6IGZ1bmN0aW9uIGRlbGV0YXJDbGllbnRlKGNsaWVudCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb25maXJtYXIsIHJlc3BvbnNlLCBpbmRpY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbmZpcm1hciA9IHdpbmRvdy5jb25maXJtKCJEZXNlamEgZGVsZXRhciBhIHRhcmVmYSBcIiIuY29uY2F0KGNsaWVudC5ub21lLCAiXCJjbGllbnRlPyIpKTsKCiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm1hcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZGVsZXRlKCJodHRwOi8vMTI3LjAuMC4xL3BkdnNvbHVzb2Z0L2Jsb2cvcHVibGljL2FwaS9jbGllbnRlcy8iLmNvbmNhdChjbGllbnQuaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGluZGljZSA9IF90aGlzMi5jbGllbnRlcy5maW5kSW5kZXgoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuaWQgPT09IGNsaWVudC5pZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dFVCAvcHJvZHV0b3MnLCByZXNwb25zZSk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmNsaWVudGVzLnNwbGljZShpbmRpY2UsIDEpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJybyBhbyBkZWxldGFyIFRhcmVmYTogJywgX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VtcHJlIGV4ZWN1dGFkbyEnKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDE0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1syLCAxMSwgMTQsIDE3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBidXNjYXI6IGZ1bmN0aW9uIGJ1c2NhcihldmVudCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9jbGllbnRlcycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGJ1c2NhOiBldmVudC50YXJnZXQudmFsdWUKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHZvbHRhcjogZnVuY3Rpb24gdm9sdGFyKCkgewogICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ClientesLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,iBAAA,MAAA,6CAAA;AAEA,OAAA,QAAA,MAAA,mBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA,CAAA,OAAA,CAJA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAXA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,aAAA,CAAA,KAAA,GACA,KAAA,QADA,GAEA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,CAAA,WAAA,GAAA,QAAA,CAAA,KAAA,CAAA,WAAA,EAAA,CAAA;AAAA,OAAA,CAFA;AAGA;AANA,GAZA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,WAAA;AACA,SAAA,QAAA,GAAA,QAAA,CAAA,QAAA;AAEA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,CAAA,GAAA,yDAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,cARA,0BAQA,MARA,EAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,SADA,GACA,MAAA,CAAA,OAAA,qCAAA,MAAA,CAAA,IAAA,gBADA;;AAAA,qBAEA,SAFA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAIA,KAAA,CAAA,MAAA,iEAAA,MAAA,CAAA,EAAA,EAJA;;AAAA;AAIA,gBAAA,QAJA;AAKA,gBAAA,MALA,GAKA,MAAA,CAAA,QAAA,CAAA,SAAA,CAAA,UAAA,CAAA;AAAA,yBAAA,CAAA,CAAA,EAAA,KAAA,MAAA,CAAA,EAAA;AAAA,iBAAA,CALA;AAMA,gBAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,QAAA;;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA;;AAPA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA,CAAA,0BAAA;;AATA;AAAA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AAXA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAvBA;AAwBA,IAAA,MAxBA,kBAwBA,KAxBA,EAwBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA;AAAA,UAAA,KAAA,EAAA,KAAA,CAAA,MAAA,CAAA;AAAA;AAFA,OAAA;AAIA,KA7BA;AA8BA,IAAA,MA9BA,oBA8BA;AACA,WAAA,OAAA,CAAA,IAAA;AACA;AAhCA;AA1BA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n                <h3 class=\"font-weight-light\">Lista de Clientes</h3>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n                <router-link \r\n                    :to=\"`/clientes/criar`\"\r\n                    class=\"btn btn-info btn-sm float-right\">\r\n                    <span>Criar</span>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-2\">\r\n            <input \r\n                type=\"search\"\r\n                class=\"form-control\"\r\n                placeholder=\"Buscar Clientes\"\r\n                @keyup.enter=\"buscar\"\r\n                :value = \"busca\">\r\n        </div>\r\n\r\n        <hr>\r\n\r\n        \r\n        <table class=\"table\">\r\n                \r\n                <thead class=\"table table-striped table-bordered table-dark\">\r\n                    <tr >\r\n                    <th scoped=\"col-2\" >Código</th>\r\n                    <th scoped=\"col-6\">Nome</th>\r\n                    <th scoped=\"col-2\">cpf</th>\r\n                    <th scoped=\"col-2\">sexo</th>\r\n                    <th scoped=\"col-2\">e-mail</th>\r\n                    <th scoped=\"col-2\">açoes</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-bordered\">\r\n                   \r\n                    <ClientesListaIten\r\n                                v-for=\"cli in clientesFiltrados\"\r\n                                @delete=\"deletarCliente\"\r\n                                :key=\"cli.id\"\r\n                                :cliente=\"cli\"/>\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n\r\n\r\n        <button class=\"btn btn-secondary mt-4 mb-4\" @click=\"voltar\">Voltar</button>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport ClientesListaIten from '@/components/clientes/ClientesListaIten.vue'\r\n\r\nimport EventBus from './../../event-bus'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    components: {\r\n        ClientesListaIten\r\n    },\r\n    props: ['busca'],\r\n\r\n    data() {\r\n        return {\r\n            contatos: [],\r\n            clientes: []\r\n        }\r\n    },\r\n    computed: {\r\n        clientesFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.clientes\r\n                : this.clientes.filter(c => c.nome.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getClientes();\r\n     this.contatos = EventBus.contatos\r\n  \r\n    },\r\n    methods: {\r\n        async getClientes() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/clientes`);\r\n                console.log('GET /produtos', response)\r\n                this.clientes = response.data;\r\n\r\n        },\r\n        async deletarCliente(client) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${client.nome}\"cliente?`)\r\n            if (confirmar) {\r\n                try {\r\n                    const response = await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/clientes/${client.id}`)\r\n                    const indice = this.clientes.findIndex(c => c.id === client.id)\r\n                    console.log('GET /produtos', response)\r\n                    this.clientes.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/clientes',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        }\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/clientes"}]}