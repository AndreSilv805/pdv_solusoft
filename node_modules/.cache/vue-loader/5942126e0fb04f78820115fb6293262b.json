{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\pedidos\\PedidosLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\pedidos\\PedidosLista.vue","mtime":1603144535375},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603220106800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":1603220101061},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603220106800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":1603220194800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCg0KaW1wb3J0IFBlZGlkb3NMaXN0YUl0ZW0gZnJvbSAnQC9jb21wb25lbnRzL3BlZGlkb3MvUGVkaWRvc0xpc3RhSXRlbS52dWUnDQoNCmltcG9ydCBFdmVudEJ1cyBmcm9tICcuLy4uLy4uL2V2ZW50LWJ1cycNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIFBlZGlkb3NMaXN0YUl0ZW0sDQogICAgfSwNCg0KICAgIHByb3BzOiBbJ2J1c2NhJ10sDQoNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgY29udGF0b3M6IFtdLA0KICAgICAgICAgICAgcGVkaWRvczogW10sDQogICAgICAgICAgICANCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBjb21wdXRlZDogew0KICAgICAgICBwZWRpZG9zRmlsdHJhZG9zKCkgew0KICAgICAgICAgICAgY29uc3QgYnVzY2EgPSB0aGlzLmJ1c2NhDQogICAgICAgICAgICByZXR1cm4gIWJ1c2NhDQogICAgICAgICAgICAgICAgPyB0aGlzLnBlZGlkb3MNCiAgICAgICAgICAgICAgICA6IHRoaXMucGVkaWRvcy5maWx0ZXIocCA9PiBwLm9ic2VydmFjYW8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhidXNjYS50b0xvd2VyQ2FzZSgpKSkNCiAgICAgICAgfQ0KDQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICB0aGlzLmdldFBlZGlkb3MoKTsNCiAgICAgdGhpcy5wZWRpZG9zID0gRXZlbnRCdXMucGVkaWRvcw0KICANCiAgICB9LA0KDQogICAgbWV0aG9kczogew0KICAgICAgICBhc3luYyBnZXRQZWRpZG9zKCkgew0KDQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3BlZGlkb3NgKTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnR0VUIC9wcm9kdXRvcycsIHJlc3BvbnNlKQ0KICAgICAgICAgICAgICAgIHRoaXMucGVkaWRvcyA9IHJlc3BvbnNlLmRhdGE7DQoNCiAgICAgICAgfSwNCiAgICAgICAgYXN5bmMgZGVsZXRhclBlZGlkbyhwZWRpZG8pIHsNCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hciA9IHdpbmRvdy5jb25maXJtKGBEZXNlamEgZGVsZXRhciBhIHRhcmVmYSAiJHtwZWRpZG8uaWR9Ij9gKQ0KICAgICAgICAgICAgaWYgKGNvbmZpcm1hcikgew0KDQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MuZGVsZXRlKGBodHRwOi8vMTI3LjAuMC4xL3BkdnNvbHVzb2Z0L2Jsb2cvcHVibGljL2FwaS9wZWRpZG9zLyR7cGVkaWRvLmlkfWApDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGljZSA9IHRoaXMucGVkaWRvcy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBwZWRpZG8uaWQpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucGVkaWRvcy5zcGxpY2UoaW5kaWNlLCAxKQ0KICAgICAgICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm8gYW8gZGVsZXRhciBUYXJlZmE6ICcsIGVycm9yKQ0KICAgICAgICAgICAgICAgIH0gZmluYWxseSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW1wcmUgZXhlY3V0YWRvIScpDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGJ1c2NhcihldmVudCkgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICAgIHBhdGg6ICcvcGVkaWRvcycsDQogICAgICAgICAgICAgICAgcXVlcnk6IHsgYnVzY2E6IGV2ZW50LnRhcmdldC52YWx1ZSB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICB2b2x0YXIoKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuYmFjaygpDQogICAgICAgIH0sDQogICAgfQ0KfQ0K"},{"version":3,"sources":["PedidosLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PedidosLista.vue","sourceRoot":"src/components/pedidos","sourcesContent":["<template>\r\n    <div>\r\n       \r\n        <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n                <h3 class=\"font-weight-light\">Lista de Pedidos</h3>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n                <router-link \r\n                    :to=\"`/produtos/criar`\"\r\n                    class=\"btn btn-info btn-sm float-right\">\r\n                    <span>Criar Pedido</span>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-2\">\r\n            <input \r\n                type=\"search\"\r\n                class=\"form-control\"\r\n                placeholder=\"Buscar contatos\"\r\n                @keyup.enter=\"buscar\"\r\n                :value = \"busca\">\r\n        </div>\r\n\r\n        <hr>\r\n\r\n       \r\n\r\n        <table class=\"table\">\r\n\r\n                <thead class=\"table table-striped table-sm table-bordered table-dark\">\r\n                    <tr>\r\n                    <th style=\"width:15%\" scoped=\"col-2\" >Código</th>\r\n                    <th style=\"width:45%\" scoped=\"col-6\">Data Pedido</th>\r\n                    <th style=\"width:20%\" scoped=\"col-2\">Observação</th>\r\n                    <th style=\"width:20%\" scoped=\"col-2\" class=\"text-align-center\">açoes</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-bordered\">\r\n                   \r\n                    <PedidosListaItem\r\n                                v-for=\"ped in pedidosFiltrados\"\r\n                                @delete=\"deletarPedido\"\r\n                                :key=\"ped.id\"\r\n                                :pedido=\"ped\"/>\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n     \r\n\r\n\r\n\r\n\r\n        <button class=\"btn btn-secondary mt-4 mb-4\" @click=\"voltar\">Voltar</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport PedidosListaItem from '@/components/pedidos/PedidosListaItem.vue'\r\n\r\nimport EventBus from './../../event-bus'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nexport default {\r\n    components: {\r\n        PedidosListaItem,\r\n    },\r\n\r\n    props: ['busca'],\r\n\r\n    data() {\r\n        return {\r\n            contatos: [],\r\n            pedidos: [],\r\n            \r\n        }\r\n    },\r\n\r\n    computed: {\r\n        pedidosFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.pedidos\r\n                : this.pedidos.filter(p => p.observacao.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getPedidos();\r\n     this.pedidos = EventBus.pedidos\r\n  \r\n    },\r\n\r\n    methods: {\r\n        async getPedidos() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/pedidos`);\r\n                console.log('GET /produtos', response)\r\n                this.pedidos = response.data;\r\n\r\n        },\r\n        async deletarPedido(pedido) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${pedido.id}\"?`)\r\n            if (confirmar) {\r\n\r\n                try {\r\n                    await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/pedidos/${pedido.id}`)\r\n                    const indice = this.pedidos.findIndex(p => p.id === pedido.id)\r\n                    this.pedidos.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/pedidos',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        },\r\n    }\r\n}\r\n</script>\r\n"]}]}