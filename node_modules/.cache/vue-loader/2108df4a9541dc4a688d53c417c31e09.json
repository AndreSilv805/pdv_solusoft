{"remainingRequest":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\pdv_universo\\src\\components\\produtos\\ProdutosLista.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\pdv_universo\\src\\components\\produtos\\ProdutosLista.vue","mtime":1600129206800},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\pdv_universo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCg0KaW1wb3J0IFByb2R1dG9zR2V0IGZyb20gJ0AvY29tcG9uZW50cy9wcm9kdXRvcy9Qcm9kdXRvc0dldC52dWUnDQoNCmltcG9ydCBFdmVudEJ1cyBmcm9tICcuLy4uLy4uL2V2ZW50LWJ1cycNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCg0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIFByb2R1dG9zR2V0LA0KICAgIH0sDQoNCiAgICBwcm9wczogWydidXNjYSddLA0KDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNvbnRhdG9zOiBbXSwNCiAgICAgICAgICAgIHByb2R1dG9zOiBbXSwNCiAgICAgICAgICAgIA0KICAgICAgICB9DQogICAgfSwNCg0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIHByb2R1dG9zRmlsdHJhZG9zKCkgew0KICAgICAgICAgICAgY29uc3QgYnVzY2EgPSB0aGlzLmJ1c2NhDQogICAgICAgICAgICByZXR1cm4gIWJ1c2NhDQogICAgICAgICAgICAgICAgPyB0aGlzLnByb2R1dG9zDQogICAgICAgICAgICAgICAgOiB0aGlzLnByb2R1dG9zLmZpbHRlcihwID0+IHAubm9tZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGJ1c2NhLnRvTG93ZXJDYXNlKCkpKQ0KICAgICAgICB9DQoNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgIHRoaXMuZ2V0UHJvZHV0b3MoKTsNCiAgICAgdGhpcy5jb250YXRvcyA9IEV2ZW50QnVzLmNvbnRhdG9zDQogIA0KICAgIH0sDQoNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGFzeW5jIGdldFByb2R1dG9zKCkgew0KDQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3Byb2R1dG9zYCk7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dFVCAvcHJvZHV0b3MnLCByZXNwb25zZSkNCiAgICAgICAgICAgICAgICB0aGlzLnByb2R1dG9zID0gcmVzcG9uc2UuZGF0YTsNCg0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBkZWxldGFyVGFyZWZhKHByb2R1dG8pIHsNCiAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1hciA9IHdpbmRvdy5jb25maXJtKGBEZXNlamEgZGVsZXRhciBhIHRhcmVmYSAiJHtwcm9kdXRvLm5vbWV9Ij9gKQ0KICAgICAgICAgICAgaWYgKGNvbmZpcm1hcikgew0KDQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5kZWxldGUoYGh0dHA6Ly8xMjcuMC4wLjEvcGR2c29sdXNvZnQvYmxvZy9wdWJsaWMvYXBpL3Byb2R1dG9zLyR7cHJvZHV0by5pZH1gKQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRpY2UgPSB0aGlzLnByb2R1dG9zLmZpbmRJbmRleCh0ID0+IHQuaWQgPT09IHByb2R1dG8uaWQpDQogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHV0b3Muc3BsaWNlKGluZGljZSwgMSkNCiAgICAgICAgICAgICAgICB9IGNhdGNoKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvIGFvIGRlbGV0YXIgVGFyZWZhOiAnLCBlcnJvcikNCiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VtcHJlIGV4ZWN1dGFkbyEnKQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBidXNjYXIoZXZlbnQpIHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgICAgICBwYXRoOiAnL3Byb2R1dG9zJywNCiAgICAgICAgICAgICAgICBxdWVyeTogeyBidXNjYTogZXZlbnQudGFyZ2V0LnZhbHVlIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIHZvbHRhcigpIHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCkNCiAgICAgICAgfSwNCiAgICB9DQp9DQo="},{"version":3,"sources":["ProdutosLista.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProdutosLista.vue","sourceRoot":"src/components/produtos","sourcesContent":["<template>\r\n    <div>\r\n       \r\n        <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n                <h3 class=\"font-weight-light\">Lista de Produtos</h3>\r\n            </div>\r\n            <div class=\"col-sm-2\">\r\n                <router-link \r\n                    :to=\"`/produtos/criar`\"\r\n                    class=\"btn btn-info btn-sm float-right\">\r\n                    <span>Criar Produto</span>\r\n                </router-link>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group mt-2\">\r\n            <input \r\n                type=\"search\"\r\n                class=\"form-control\"\r\n                placeholder=\"Buscar contatos\"\r\n                @keyup.enter=\"buscar\"\r\n                :value = \"busca\">\r\n        </div>\r\n\r\n        <hr>\r\n\r\n       \r\n\r\n        <table class=\"table\">\r\n\r\n                <thead class=\"table table-striped table-bordered table-dark\">\r\n                    <tr>\r\n                    <th scoped=\"col-2\" >Código</th>\r\n                    <th scoped=\"col-6\">Produto</th>\r\n                    <th scoped=\"col-2\">valor</th>\r\n                    <th scoped=\"col-2\" class=\"text-align-center\">açoes</th>\r\n                    </tr>\r\n                </thead>\r\n\r\n                <tbody class=\"table table-striped table-bordered\">\r\n                   \r\n                    <ProdutosGet\r\n                                v-for=\"prod in produtosFiltrados\"\r\n                                @delete=\"deletarTarefa\"\r\n                                :key=\"prod.id\"\r\n                                :produto=\"prod\"/>\r\n                   \r\n                </tbody>\r\n                \r\n        </table>\r\n     \r\n\r\n\r\n\r\n\r\n        <button class=\"btn btn-secondary mt-4 mb-4\" @click=\"voltar\">Voltar</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nimport ProdutosGet from '@/components/produtos/ProdutosGet.vue'\r\n\r\nimport EventBus from './../../event-bus'\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nexport default {\r\n    components: {\r\n        ProdutosGet,\r\n    },\r\n\r\n    props: ['busca'],\r\n\r\n    data() {\r\n        return {\r\n            contatos: [],\r\n            produtos: [],\r\n            \r\n        }\r\n    },\r\n\r\n    computed: {\r\n        produtosFiltrados() {\r\n            const busca = this.busca\r\n            return !busca\r\n                ? this.produtos\r\n                : this.produtos.filter(p => p.nome.toLowerCase().includes(busca.toLowerCase()))\r\n        }\r\n\r\n    },\r\n    created() {\r\n     this.getProdutos();\r\n     this.contatos = EventBus.contatos\r\n  \r\n    },\r\n\r\n    methods: {\r\n        async getProdutos() {\r\n\r\n                const response = await axios.get(`http://127.0.0.1/pdvsolusoft/blog/public/api/produtos`);\r\n                console.log('GET /produtos', response)\r\n                this.produtos = response.data;\r\n\r\n        },\r\n        async deletarTarefa(produto) {\r\n            const confirmar = window.confirm(`Deseja deletar a tarefa \"${produto.nome}\"?`)\r\n            if (confirmar) {\r\n\r\n                try {\r\n                    const response = await axios.delete(`http://127.0.0.1/pdvsolusoft/blog/public/api/produtos/${produto.id}`)\r\n                    const indice = this.produtos.findIndex(t => t.id === produto.id)\r\n                    this.produtos.splice(indice, 1)\r\n                } catch(error) {\r\n                    console.log('Erro ao deletar Tarefa: ', error)\r\n                } finally {\r\n                    console.log('Sempre executado!')\r\n                }\r\n\r\n            }\r\n        },\r\n        buscar(event) {\r\n            this.$router.push({\r\n                path: '/produtos',\r\n                query: { busca: event.target.value }\r\n            })\r\n        },\r\n        voltar() {\r\n            this.$router.back()\r\n        },\r\n    }\r\n}\r\n</script>\r\n"]}]}